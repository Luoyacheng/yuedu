[{
  "articleStyle": 0,
  "concurrentRate": "6/1000",
  "customOrder": -10100143,
  "enableJs": true,
  "enabled": true,
  "enabledCookieJar": false,
  "header": "@js:\nlet webua=java.getWebViewUA().replaceAll(\"; wv| Version\\/4.0\",'');\nlet headers = {\n\t\"User-Agent\": webua,\n\t\"X-Requested-With\": \"XMLHttpRequest\"\r\n}\nJSON.stringify(headers);",
  "jsLib": "function gengxin(){\nconst {java, source} = this;\n\tlet url0='https://gitee.com/lyc486/yuedu2/commits/main/订阅/洛娅橙/lyc.json?browser_history=0&page=1&per=3';\n\tlet rr0=java.get(url0,{'User-Agent': 'Mozilla/5.0 (Linux; Android 14)','X-Requested-With': 'XMLHttpRequest'}).body();\n\tlet \tgxlrr = com.jayway.jsonpath.JsonPath.read(rr0, '$.list[0:3].title');\n\tlet [gxlr, gxlr2, gxlr3] = gxlrr;\n\tlet banben =   String(source.sortUrl).match(/let banben=\"([\\d\\.]+)\"/)[1];\n\tgxlr=String(gxlr).split(/^([^\\-]+)-/);\n\tgxlr[0]=='' ? '' : gxlr=['','0',gxlr[0]];\n\tlet gxts;\n\tif (gxlr[1]>banben){gxts=['更新','0,140,186'];}\n\telse {gxts= ['导入','76,175,80'];};\n\tlet htm = `<html>\n<head>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<style>\ntable {\n\ttext-align: center;\n\tmargin: 0 auto;\n\t}\n.ann {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 50vh;\n\t}\nbutton {\n\tbackground-color: rgb(${gxts[1]});\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\theight: 6vh;\n\twidth: 30vw;\n\toverflow: hidden;\n\t}\nbutton span {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  transition: 0.4s;\n}\nbutton span:after {\n  content: '>';\n  position: absolute;\n  opacity: 0;\n  top: 0;\n  right: 30px;\n  transition: 0.2s;\n}\nbutton:active span {\n  padding-right: 20px;\n}\nbutton:active span:after {\n  opacity: 1;\n  right: -40px;\n}\n</style>\n</head>\n<body>\n<table border=\"1\" cellspacing=\"0\">\n<th colspan=\"2\">最新日志：${gxlr[2]}</th>\n<tr>\n<td>仓库版本：${gxlr[1]}</td>\n<td>本地版本：${banben}</td>\n</tr>\n<tr>\n<td colspan=\"2\" style=\"text-align: left;\">往期日志：${gxlr2}<br>　　　　　${gxlr3}</td>\n</tr>\n</table>\n<div class=\"ann\">\n<a href=\"legado://import/importonline?src=https://gitee.com/lyc486/yuedu2/raw/main/订阅/洛娅橙/lyc.json\">\n<button><span>${gxts[0]}</span></button>\n</a>\n</div>\n<p style=\"font-size: 12px;\">导入订阅源窗口需手动选择，然后确认</p>\n<a href=\"legado://import/importonline?src=https://cdn.jsdelivr.net/gh/Luoyacheng/yuedu@main/订阅/洛娅橙/lyc.json\" style=\"font-size: 10px;\">备用链接</a>\n</body>\n</html>`;\nif(gxts[0]=='更新') java.startBrowser(`data:text/html;base64,${java.base64Encode(htm)}`,'订阅源更新');\r\n}",
  "lastUpdateTime": 0,
  "loadWithBaseUrl": false,
  "loginUi": "[\n    {\n    \t\"name\": \"💬说明\",\n    \t\"type\": \"button\",\n    \t\"action\": \"java.longToast(` \n导入按键：低延迟、某些资源无法导入\n备用2按键：无延迟、可能需要魔法\n\n更新订阅源后，请退出订阅源重进。`);\",\n        \"style\": {\n            \"layout_flexGrow\": 2,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": true}\n    \t},\n    \t{\n        \"name\": \"🔘樱花效果\",\n        \"type\": \"button\",\n        \"action\": \"bfqfun('樱花效果')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": flase}\n    },\n    \t{\n        \"name\": \"🧬激活\",\n        \"type\": \"button\",\n        \"action\": \"jihuo()\",\n        \"style\": {\n            \"layout_flexGrow\": 2,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_wrapBefore\": flase}\n    }\n]",
  "loginUrl": "function login(){}\nfunction bfqfun(x) {\nlet xx = source.get('lyc'+x);\n//默认开启\nif(xx!=2) {source.put('lyc'+x,2);java.toast('⚫已关闭 '+x);}\nelse {source.put('lyc'+x,1);java.toast('🟢已开启 '+x);}\n\t}\nfunction jihuo() {\n\tlet sleep=Packages.java.lang.Thread.sleep;\t['　　　　　','·　　　　','··　　　','···　　','····　','·····'].forEach((_,i) =>{i+=7;do{java.toast('\\n\\n激活中'+_+'\\n');cache.put('lycjihuo','洛娅橙'+i);sleep(90);}while(--i)});\n\tif (cache.get('lycjihuo').endsWith(1))\n\tjava.longToast(`\n　　　🧬🧬　　　\n　　激活成功　　\n版本号：${source.get('bb')}`);\n}",
  "ruleArticles": "$..trees[*]<js>\nvar h=\"https://gitee.com\";\nArray.from(result).map(x=>{\n\treturn {\n\t\tn:x.name,\n\t\tt:java.timeFormat(new Date(x.last_commit.time)),\n\t\ti:h+\"/lyc486/yuedu/raw/master/favicon.svg\",\n\t\tu:h+x.url};\n})\n</js>",
  "ruleContent": "@js:\r\nlet title,title2;\r\ntry {title=rssArticle.title;title2=rssArticle.sort;}\ncatch (err) {\nsource.put('bb','0.0.0');\nif (baseUrl.includes(encodeURI('字典')))\ntitle='字典';\nelse if (baseUrl.includes(encodeURI('净化')))\ntitle='净化';\nelse if (baseUrl.includes(encodeURI('目录')))\ntitle='目录';\nelse title='主页',java.toast('该项暂时只支持测试版');\ntitle2=title;}\r\nif (title == '主页')\r\nresult = `<html><head>\n<meta http-equiv=\"refresh\" content=\"0; url='https://luoyacheng.cloudns.ch'\">\n</head>\n</html>`;\r\nelse {\r\n    let nm = java.getStringList('$..blobs[*].name');\r\n    let ur = java.getStringList('$..blobs[*].url');\r\n    let tm = java.getStringList('$..blobs[*]*.time');\r\n    let re = '';\r\n    for (let i = 0; i < nm.length; i++) {\r\n        let rzurl = \"https://gitee.com\" + ur[i].replace('/blob/', '/commits/');\r\n        let url = rzurl + '?browser_history=0&page=1&per=5';\r\n        let rz = java.ajax(url);\r\n        rz = com.jayway.jsonpath.JsonPath.read(rz, '$.list[0:5].title');\r\n        let [rz1,rz2,rz3,rz4,rz5] = rz;\r\n        if (title == '洛娅橙') {\r\n            let banben1=String(rz1).match(/^([^\\-]+)-/);\r\n            banben1 = banben1 ? banben1[1] : '9.9.9';\r\n            let banben2 = String(source.sortUrl).match(/let banben=\"([\\d\\.]+)\"/)[1];\r\n            if (banben1>banben2) java.longToast('\\n我又更新啦😁\\n请在该界面导入来更新我🥹');\r\n        }\r\n        re += `<tr style=\"height: 0.1em;\"></tr>\r\n<tr>\r\n<td colspan=\"4\">${nm[i]}</td>\r\n<td class=\"time\" colspan=\"3\">${java.timeFormat(new Date(tm[i]).getTime())}</td>\r\n<td colspan=\"1\"><a href=\"${rzurl}\">查看</a></td>\r\n</tr>\r\n<tr style=\"height:3em;\">\r\n<td colspan=\"2\"><button id=\"btn1\" onclick=\"daoru('${ur[i]}',1)\">导 入</button></td>\r\n<td colspan=\"2\"><button id=\"btn2\" onclick=\"daoru('${ur[i]}',2)\">备用1</button></td>\r\n<td colspan=\"2\"><button id=\"btn3\" onclick=\"daoru('${ur[i]}',3)\">备用2</button></td>\r\n<td colspan=\"2\"><button id=\"btn4\" onclick=\"daoru('${ur[i]}',4)\">备用3</button></td>\r\n</tr>\r\n<tr>\r\n<td style=\"text-align: left;\" colspan=\"8\"><p id=\"sgtxt\">${rz1}</p>${rz2?'<hr><p>'+rz2+'</p>':''}${(rz3?'<p>'+rz3+'</p>':'')+(rz4?'<p>'+rz4+'</p>':'')+(rz5?'<p>'+rz5+'</p>':'')}</td>\r\n</tr>\r\n`;\n//处理re结束\n}\n\nlet yht='',yhjs='';\nif (source.get('lyc樱花效果')!=2) {\n\tyht='<div id=\"gif-c\"><img id=\"yhs-gif\" src=\"https://wimg.588ku.com/gif320/24/07/09/eaa8a92d993345498c6329443903499c.gif\" alt=\"gif-yhs\"></div>';\n\tyhjs=source.get('yhxyapi');\n\tif (yhjs.length()<9999) {\n\t\tyhjs = java.ajax('https://gitee.com/lyc486/yuedu/raw/master/yinghua.js');\n\t\tif (yhjs.length()>9999)\n\t\tsource.put('yhxyapi',yhjs);\n\t\telse yhjs='';}\n\t\tyhjs=`<script>${yhjs}</script>`;\n}\r\n\r\n    result = String.raw`<!DOCTYPE html>\r\n    <html>\r\n        <head>\n        <title>${title2}</title>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\r\n                <style>\n:root {\n\t--show-color: rgba(100,100,100,0.7);}\n@media (prefers-color-scheme: dark) {\n\t:root {\n\t--show-color: rgba(250,250,250,0.9);}\n}\n\n                    html {\n                    overflow-x: clip;}\n                    body {\n                    height: -webkit-fill-available;\n                    position: relative;\n                    overflow: hidden;}\r\n                    table {\r\n                    width: 100%;\r\n                    table-layout: fixed;\r\n                    text-align: center;\r\n                    margin: 0 auto;\r\n                    word-break: break-all;\r\n                    }\r\n                    .time,.txt-s {font-size:10pt;}\r\n                    a {text-decoration: none;}\n                    p {padding-left: 5ex;\n                    text-indent: -5ex;\n                    margin: 0 auto;}\n                    #gif-c {\n                    position: fixed;\n                    top: -5px;\n                    right: 0px;\n                    z-index: 9;}\n                    #yhs-gif {\n                    width: 110px;\n                    height: auto;}\n                    #sgtxt {\n                    text-shadow: 0 0 4px var(--show-color);}\r\n                </style>\r\n        </head>\r\n        <body>\r\n            <table border=\"1\" cellpadding=\"2\" cellspacing=\"0\" align=\"center\">\r\n                <caption><h2>${title}</h2></caption>\r\n                <tr>\r\n                    <td colspan=\"4\">文件名</td>\r\n                    <td colspan=\"3\">更新时间</td>\r\n                    <td colspan=\"1\">日志</td>\r\n                </tr>\r\n                <tr style=\"display:none;\">\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                </tr>\r\n                ${re}\r\n            </table>\n ${yht}\r\n            <script>\r\n            function daoru(url,inn) {\r\n                    url = url.match(/main\\/.+/)[0];\r\n                    var yy=\"\";\r\n                    switch(inn) {\r\n                        case 2: yy = \"https://github.moeyy.xyz/https://github.com/Luoyacheng/yuedu/blob/\";break;\r\n                        case 4: yy = \"https://cdn.jsdelivr.net/gh/Luoyacheng/yuedu@\";break;\r\n                        case 3: yy = \"https://github.com/Luoyacheng/yuedu/raw/\";break;\r\n                        case 1: yy = \"https://gitee.com/lyc486/yuedu2/raw/\";break;\r\n                        default: alert('异常');break;\r\n                    }\r\n                    yy += url;\r\n                    window.location.href = \"legado://import/importonline?src=\" + yy;\r\n                }\r\n            </script>\n${yhjs}\r\n        </body>\r\n    </html>\r\n    `;\r\n}\r\nresult",
  "ruleImage": "i",
  "ruleLink": "u",
  "rulePubDate": "t",
  "ruleTitle": "n",
  "singleUrl": false,
  "sortUrl": "<js>\r\nlet banben=\"2.1.9\";\nsource.put('bb',banben);\r\njava.toast('\\n欢迎🎉');\nlet url = 'https://gitee.com/lyc486/yuedu2/tree/main';\r\nlet rr = java.ajax(url);\r\nlet nm = com.jayway.jsonpath.JsonPath.read(rr, \"$..trees[*].name\");\r\nlet ur = com.jayway.jsonpath.JsonPath.read(rr, '$..trees[*].url');\r\nlet re = '';\r\nfor (let i = 0; i < nm.length; i++) {\n\tlet tt=nm[i];\nif (/^[一-ꀀ]/.test(tt))\tre+=tt+'::https://gitee.com'+ur[i]+(i==2?'@js:gengxin();result\\n':'\\n');\r\n}\r\nre+=\"其它::https://gitee.com/lyc486/yuedu2/tree/main/订阅/洛娅橙\";\r\nPackages.java.lang.Thread.sleep(100);\r\nre\r\n</js>",
  "sourceIcon": "https://gitee.com/lyc486/yuedu/raw/master/favicon.gif",
  "sourceName": "洛娅橙的订阅",
  "sourceUrl": "https://www.luoyacheng.ip-ddns.com"
}]